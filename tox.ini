[tox]
envlist = py39

[testenv]
deps =
    pytest>=7.0.0
    pytest-cov>=4.0.0
commands =
    python -c "import os; print('=== CURRENT DIRECTORY ==='); print(os.getcwd()); print('=== FILES ==='); print(os.listdir('.')); print('=== TESTS DIR ==='); print('tests' in os.listdir('.') and os.listdir('tests') or 'NO TESTS DIR')"
    python -c "import sys, pipreqs; print('=== PIPREQS IMPORTED ==='); print(pipreqs.__file__)"
    pytest --version
    pytest --collect-only -v
    python -m pytest tests/ -v -s --tb=long --no-header
    python -c "print('=== PYTEST FINISHED ===')"
